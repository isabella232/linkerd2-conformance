#!/bin/sh

set -eu

if [ $# -ne 2 ]; then
    echo "Usage: bin/${0##*/} [Username] [test|base|sonobuoy]" >&2
    exit 1
fi

cmd="docker push"
case $2 in
    "test")
        $cmd "$1"/linkerd2-conformance
        ;;
    "base")
        $cmd "$1"/linkerd2-conformance-base
        ;;
    "sonobuoy")
        $cmd "$1"/linkerd2-sonobuoy
        ;;
    *)
        echo "Invalid option for source: $2"
        exit 1 
        ;;
esac

